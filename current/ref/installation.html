<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &mdash; connectal 16.11.1 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '16.11.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/tracking.js"></script>
    <link rel="top" title="connectal 16.11.1 documentation" href="index.html" />
    <link rel="next" title="Connectal Design" href="design/design.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="bsv-pkgindex.html" title="Bsv Package Index"
             >bsvpkgs</a> |</li>
        <li class="right" >
          <a href="design/design.html" title="Connectal Design"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">connectal 16.11.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-connectal-from-packages">
<h2>Installing Connectal from Packages<a class="headerlink" href="#installing-connectal-from-packages" title="Permalink to this headline">¶</a></h2>
<p>On Ubuntu systems, connectal may be installed from pre-built packages:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo add-apt-repository -y ppa:jamey-hicks/connectal
sudo apt-get update
sudo apt-get -y install connectal
</pre></div>
</div>
</div>
<div class="section" id="installing-connectal-from-source">
<h2>Installing Connectal from Source<a class="headerlink" href="#installing-connectal-from-source" title="Permalink to this headline">¶</a></h2>
<p>Connectal source comes from three repositories:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone git://github.com/cambridgehackers/connectal
git clone git://github.com/cambridgehackers/fpgamake
git clone git://github.com/cambridgehackers/buildcache
</pre></div>
</div>
<p>To use Connectal to build hardware/software applications, some additional packages are required:</p>
<div class="highlight-python"><div class="highlight"><pre>cd connectal; sudo make install-dependences
</pre></div>
</div>
</div>
<div class="section" id="installing-connectal-drivers-and-pci-express-utilities">
<h2>Installing Connectal Drivers and PCI Express Utilities:<a class="headerlink" href="#installing-connectal-drivers-and-pci-express-utilities" title="Permalink to this headline">¶</a></h2>
<p>To run Connectal applications on FPGAs attached via PCI Express, a
couple of device drivers have to be built and installed:</p>
<div class="highlight-python"><div class="highlight"><pre>cd connectal; make all &amp;&amp; sudo make install
</pre></div>
</div>
<p>In addition, you will need to build and install fpgajtag and pciescan:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone git://github.com/cambridgehackers/pciescan
(cd pciescan; make &amp;&amp; sudo make install)

git clone git://github.com/cambridgehackers/fpgajtag
(cd fpgajtag; make &amp;&amp; sudo make install)
</pre></div>
</div>
</div>
<div class="section" id="installing-vivado">
<h2>Installing Vivado<a class="headerlink" href="#installing-vivado" title="Permalink to this headline">¶</a></h2>
<p>Download Vivado from Xilinx:</p>
<blockquote>
<div><a class="reference external" href="http://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/vivado-design-tools/2015-4.html">http://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/vivado-design-tools/2015-4.html</a></div></blockquote>
<p>Connectal builds do not use the Vivado SDK.</p>
</div>
<div class="section" id="installing-ubuntu-on-zynq-zedboard-etc">
<h2>Installing Ubuntu on Zynq (Zedboard, etc)<a class="headerlink" href="#installing-ubuntu-on-zynq-zedboard-etc" title="Permalink to this headline">¶</a></h2>
<p>The shorthand instructions are:</p>
<blockquote>
<div><ul class="simple">
<li>Follow the instructions to install Ubuntu for Raspberry Pi 2 on and SD Card</li>
<li>Copy a Zedboard boot.bin to the first (VFAT) partition of the SD Card</li>
<li>Boot the Zedboard</li>
<li>Default password for user &#8220;ubuntu&#8221; is &#8220;ubuntu&#8221;</li>
</ul>
</div></blockquote>
<div class="section" id="toolchain">
<h3>Toolchain<a class="headerlink" href="#toolchain" title="Permalink to this headline">¶</a></h3>
<p>Zynq contains dual ARM Cortex A9 cores, which are 32-bit processors
using the ARMv7 instruction set. They are compatible with the
toolchain used for Raspberry Pi 2, which has prefix
&#8220;arm-linux-gnueabihf&#8221;.</p>
<p>The &#8220;eabi&#8221; suffix indicates the ARM extended application binary
interface standard.</p>
<p>The &#8220;hf&#8221; suffix indicates that the toolchain generates floating point
instructions rather than subroutine calls to emulate floating point,
because not all 32-bit ARM processors have floating point units.</p>
</div>
<div class="section" id="download-the-base-image">
<h3>Download the base image<a class="headerlink" href="#download-the-base-image" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Download the Ubuntu SD card image:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://cdimage.ubuntu.com/ubuntu/releases/16.04/release/ubuntu-16.04-preinstalled-server-armhf+raspi2.img.xz">http://cdimage.ubuntu.com/ubuntu/releases/16.04/release/ubuntu-16.04-preinstalled-server-armhf+raspi2.img.xz</a></li>
</ul>
</dd>
<dt>Which is referenced on this page:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://wiki.ubuntu.com/ARM/RaspberryPi">https://wiki.ubuntu.com/ARM/RaspberryPi</a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="formatting-and-sd-card-for-ubuntu">
<h3>Formatting and SD Card for Ubuntu<a class="headerlink" href="#formatting-and-sd-card-for-ubuntu" title="Permalink to this headline">¶</a></h3>
<p>Ubuntu 16.04 uses filesystem labels to determine which partitions to mount. There should be two partitions, with the following labels:</p>
<blockquote>
<div><ul>
<li><p class="first">system-boot The first partition should be vfat so that the
firmware in the Zynq ROM can read it to find boot.bin. The
following command will format the partition and label it:</p>
<p>mkfs -t vfat -n system-boot /dev/sdb1</p>
</li>
<li><p class="first">cloudimg-rootfs The second partition should be a Linux filesystem
(default ext4) containing the ubuntu installation. The following
two commands will format a partition and label it:</p>
<div class="highlight-python"><div class="highlight"><pre>mkfs -t ext4 /dev/sdb2
e2label /dev/sdb2 cloudimg-rootfs
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="install-a-boot-bin-file">
<h3>Install a boot.bin file<a class="headerlink" href="#install-a-boot-bin-file" title="Permalink to this headline">¶</a></h3>
<p>See the instructions at <a class="reference external" href="https://github.com/cambridgehackers/zynq-boot">https://github.com/cambridgehackers/zynq-boot</a></p>
</div>
<div class="section" id="configuring-a-linux-kernel-for-ubuntu-16-04">
<h3>Configuring a Linux Kernel for Ubuntu 16.04<a class="headerlink" href="#configuring-a-linux-kernel-for-ubuntu-16-04" title="Permalink to this headline">¶</a></h3>
<p>I had to change the kernel configuration to suppport systemd, the init
system used in Ubuntu 16.04.</p>
<p>To be written ...</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#installing-connectal-from-packages">Installing Connectal from Packages</a></li>
<li><a class="reference internal" href="#installing-connectal-from-source">Installing Connectal from Source</a></li>
<li><a class="reference internal" href="#installing-connectal-drivers-and-pci-express-utilities">Installing Connectal Drivers and PCI Express Utilities:</a></li>
<li><a class="reference internal" href="#installing-vivado">Installing Vivado</a></li>
<li><a class="reference internal" href="#installing-ubuntu-on-zynq-zedboard-etc">Installing Ubuntu on Zynq (Zedboard, etc)</a><ul>
<li><a class="reference internal" href="#toolchain">Toolchain</a></li>
<li><a class="reference internal" href="#download-the-base-image">Download the base image</a></li>
<li><a class="reference internal" href="#formatting-and-sd-card-for-ubuntu">Formatting and SD Card for Ubuntu</a></li>
<li><a class="reference internal" href="#install-a-boot-bin-file">Install a boot.bin file</a></li>
<li><a class="reference internal" href="#configuring-a-linux-kernel-for-ubuntu-16-04">Configuring a Linux Kernel for Ubuntu 16.04</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="intro.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="design/design.html"
                        title="next chapter">Connectal Design</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/installation.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="bsv-pkgindex.html" title="Bsv Package Index"
             >bsvpkgs</a> |</li>
        <li class="right" >
          <a href="design/design.html" title="Connectal Design"
             >next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">connectal 16.11.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Jamey Hicks, Myron King, John Ankcorn.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>