
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>3. pcieflat &#8212; connectal 20.05.1 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/tracking.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Invocation of topgen.py" href="topgen.html" />
    <link rel="prev" title="2. Invocation of generate-constraints.py" href="generate-constraints.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../bsv-pkgindex.html" title="Bsv Package Index"
             >bsvpkgs</a> |</li>
        <li class="right" >
          <a href="topgen.html" title="4. Invocation of topgen.py"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="generate-constraints.html" title="2. Invocation of generate-constraints.py"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">connectal 20.05.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="tools.html" accesskey="U">Connectal Tools</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pcieflat">
<h1><span class="section-number">3. </span>pcieflat<a class="headerlink" href="#pcieflat" title="Permalink to this headline">¶</a></h1>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pcieflat</span>
</pre></div>
</div>
<p>Dumps trace of PCIE transactions.</p>
<p>The trace contains the following columns:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>col</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dirtype</p></td>
<td><p>TLP direction and type</p></td>
</tr>
<tr class="row-odd"><td><p>timestamp</p></td>
<td><p>Timestamp of TLP, in main clock cycles</p></td>
</tr>
<tr class="row-even"><td><p>delta</p></td>
<td><p>Number of cycles since previous TLP</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p>type:pktype:format</p></td>
</tr>
<tr class="row-even"><td><p>be</p></td>
<td><p>Byte enables</p></td>
</tr>
<tr class="row-odd"><td><p>hit</p></td>
<td><p>BAR hit</p></td>
</tr>
<tr class="row-even"><td><p>eof</p></td>
<td><p>End of frame</p></td>
</tr>
<tr class="row-odd"><td><p>sof</p></td>
<td><p>Start of frame</p></td>
</tr>
<tr class="row-even"><td><p>address</p></td>
<td><p>Request physical address</p></td>
</tr>
<tr class="row-odd"><td><p>tag</p></td>
<td><p>Request tag</p></td>
</tr>
</tbody>
</table>
<p>The first column, <cite>dirtype</cite>, contains RX if received by FPGA, TX if
transmitted by FPGA, qq for start of request, pp for start of
response, and cc for continuation.</p>
<p>The second column, <cite>timestamp</cite>, displays the timestamp in terms of a
64-bit counter running at the PCIe user clock frequency (125MHz for
gen1, 250MHz for gen2 and gen3).</p>
<p>The third column, <cite>delta</cite>, displays the number of cycles since the
previous TLP. If a TLP is transmitted and received on the same cycle,
then the transmitted TLP will have a delta of 0. The first TLP shown
in the trace will have a delta of 0.</p>
<p>The fourth column shows the type of the TLP. If it is the start of a
transaction, it will be of the form <cite>type:tlppkttype:tlpformat</cite>, where
the types are:</p>
<blockquote>
<div><ul class="simple">
<li><p>CpuRReq: read request from CPU to FPGA</p></li>
<li><p>CpuWReq: write request from CPU to FPGA</p></li>
<li><p>CpuRRsp: read response from FPGA to CPU</p></li>
<li><p>DmaRReq: read request from FPGA to CPU DRAM</p></li>
<li><p>DmaWReq: write request from FPGA to CPU DRAM</p></li>
<li><p>DmaRRsp: read response from CPU DRAM to FPGA</p></li>
<li><p>CpuRCon: continuation data sent from FPGA to CPU (continuation of CpuRRsp or DmaWReq)</p></li>
<li><p>DmaRCon: continuation data sent from CPU DRAM to FPGA (continuation of DmaRRsp or CpuWReq)</p></li>
<li><p>Interru: interrupt message from FPGA to CPU</p></li>
</ul>
</div></blockquote>
<p>The TLP <cite>pkttype</cite> is one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>MRW:  Memory read/write</p></li>
<li><p>COMP: additional data (“completion”) of transaction</p></li>
</ul>
</div></blockquote>
<p>The TLP <cite>format</cite> is one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>MEM_WRITE_3DW_DATA: 96-bit write request header containing 32-bit address and 32-bit data</p></li>
<li><p>MEM_WRITE_4DW_DATA: 128-bit write request header containing 64-bit address and no data</p></li>
<li><p>MEM_READ__3DW: 96-bit read request header containing 32-bit address</p></li>
<li><p>MEM_READ__4DW: 128-bit read request header containing 64-bit address</p></li>
</ul>
</div></blockquote>
<p>The <cite>sof</cite> and <cite>eof</cite> flags indicate the start and end TLPs of each
transaction.</p>
<div class="section" id="diagnosing-crashes">
<h2><span class="section-number">3.1. </span>Diagnosing Crashes<a class="headerlink" href="#diagnosing-crashes" title="Permalink to this headline">¶</a></h2>
<p>If the machine crashed, look for transactions that were
started but not ended.</p>
<p>These will generally fall before very large deltas, where the machine
was rebooted before it had any more interactions with the FPGA.</p>
</div>
<div class="section" id="example-trace">
<h2><span class="section-number">3.2. </span>Example Trace<a class="headerlink" href="#example-trace" title="Permalink to this headline">¶</a></h2>
<p>Here are some excerpts from the output of <cite>pcieflat</cite> after running <cite>tests/memserver_copy</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pcieflat</span><span class="p">:</span> <span class="n">devices</span> <span class="n">are</span> <span class="p">[</span><span class="s1">&#39;/dev/portal_0_6&#39;</span><span class="p">,</span> <span class="s1">&#39;/dev/portal_0_5&#39;</span><span class="p">,</span> <span class="s1">&#39;/dev/portal_0_4&#39;</span><span class="p">,</span> <span class="s1">&#39;/dev/portal_0_3&#39;</span><span class="p">,</span> <span class="s1">&#39;/dev/portal_0_2&#39;</span><span class="p">,</span> <span class="s1">&#39;/dev/portal_0_1&#39;</span><span class="p">]</span>
             <span class="n">ts</span>     <span class="n">delta</span>   <span class="n">response</span>                     <span class="n">XXX</span>          <span class="n">tlp</span>          <span class="n">address</span>  <span class="n">off</span>   <span class="n">be</span>       <span class="n">tag</span>     <span class="n">clid</span>  <span class="n">nosnp</span>  <span class="n">laddr</span>        <span class="n">data</span>
                                <span class="n">pkttype</span> <span class="nb">format</span>               <span class="n">foo</span> <span class="p">(</span><span class="n">be</span> <span class="n">hit</span> <span class="n">eof</span> <span class="n">sof</span><span class="p">)</span>            <span class="p">(</span><span class="mi">1</span><span class="n">st</span> <span class="n">last</span><span class="p">)</span>        <span class="n">req</span>     <span class="n">stat</span>  <span class="n">bcnt</span>    <span class="n">length</span>
<span class="n">RXpp</span>  <span class="mi">513858932</span>          <span class="mi">0</span> <span class="n">DmaRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">07</span> <span class="mi">0300</span> <span class="mi">0000</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">080</span> <span class="mi">00</span>  <span class="mi">16</span> <span class="mi">01179</span><span class="n">d1d</span>
<span class="n">TXcc</span>  <span class="mi">513858932</span>          <span class="mi">0</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">259</span><span class="n">b17012c9b1701339b17013a9b1701</span>
<span class="n">RXcc</span>  <span class="mi">513858933</span>          <span class="mi">1</span> <span class="n">DmaRCon</span>                         <span class="mi">08</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">249</span><span class="n">d17012b9d1701329d1701399d1701</span>
<span class="n">TXcc</span>  <span class="mi">513858933</span>          <span class="mi">0</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">419</span><span class="n">b1701489b17014f9b1701569b1701</span>
<span class="n">RXcc</span>  <span class="mi">513858934</span>          <span class="mi">1</span> <span class="n">DmaRCon</span>                         <span class="mi">08</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">409</span><span class="n">d1701479d17014e9d1701559d1701</span>
<span class="n">RXcc</span>  <span class="mi">513858935</span>          <span class="mi">1</span> <span class="n">DmaRCon</span>                         <span class="mi">08</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">5</span><span class="n">c9d1701639d17016a9d1701719d1701</span>
<span class="n">RXcc</span>  <span class="mi">513858936</span>          <span class="mi">1</span> <span class="n">DmaRCon</span>                         <span class="mi">08</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">789</span><span class="n">d17017f9d1701869d170164b19a21</span>
<span class="n">RXpp</span>  <span class="mi">513858938</span>          <span class="mi">2</span> <span class="n">DmaRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">07</span> <span class="mi">0300</span> <span class="mi">0000</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">040</span> <span class="mi">40</span>  <span class="mi">16</span> <span class="mi">01179</span><span class="n">d8d</span>
<span class="n">RXcc</span>  <span class="mi">513858939</span>          <span class="mi">1</span> <span class="n">DmaRCon</span>                         <span class="mi">08</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">949</span><span class="n">d17019b9d1701a29d1701a99d1701</span>
<span class="n">RXcc</span>  <span class="mi">513858940</span>          <span class="mi">1</span> <span class="n">DmaRCon</span>                         <span class="mi">08</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="n">b09d1701b79d1701be9d1701c59d1701</span>
<span class="n">RXcc</span>  <span class="mi">513858941</span>          <span class="mi">1</span> <span class="n">DmaRCon</span>                         <span class="mi">08</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="n">cc9d1701d39d1701da9d1701e19d1701</span>
<span class="n">RXcc</span>  <span class="mi">513858942</span>          <span class="mi">1</span> <span class="n">DmaRCon</span>                         <span class="mi">08</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="n">e89d1701ef9d1701f69d1701af3ad2c2</span>
<span class="n">TXqq</span>  <span class="mi">513858949</span>          <span class="mi">7</span> <span class="n">DmaWReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_WRITE_4DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">)</span> <span class="n">address</span><span class="p">:</span> <span class="mi">000000035</span><span class="n">f4fc680</span> <span class="n">be</span><span class="p">(</span><span class="mi">1</span><span class="n">st</span><span class="p">:</span> <span class="n">f</span> <span class="n">last</span><span class="p">:</span><span class="n">f</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">05</span> <span class="n">reqid</span><span class="p">:</span><span class="mi">0300</span> <span class="n">length</span><span class="p">:</span><span class="mi">32</span>
<span class="n">TXcc</span>  <span class="mi">513858950</span>          <span class="mi">1</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">5</span><span class="n">d9b1701649b17016b9b1701729b1701</span>
<span class="n">TXcc</span>  <span class="mi">513858951</span>          <span class="mi">1</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">799</span><span class="n">b1701809b1701879b17018e9b1701</span>
<span class="n">TXcc</span>  <span class="mi">513858952</span>          <span class="mi">1</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">959</span><span class="n">b17019c9b1701a39b1701aa9b1701</span>
<span class="n">TXcc</span>  <span class="mi">513858953</span>          <span class="mi">1</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="n">b19b1701b89b1701bf9b1701c69b1701</span>
<span class="n">TXcc</span>  <span class="mi">513858954</span>          <span class="mi">1</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="n">cd9b1701d49b1701db9b1701e29b1701</span>
<span class="n">TXcc</span>  <span class="mi">513858955</span>          <span class="mi">1</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="n">e99b1701f09b1701f79b1701fe9b1701</span>
<span class="n">TXcc</span>  <span class="mi">513858956</span>          <span class="mi">1</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">059</span><span class="n">c17010c9c1701139c17011a9c1701</span>
<span class="n">TXcc</span>  <span class="mi">513858957</span>          <span class="mi">1</span> <span class="n">CpuRCon</span>                         <span class="mi">10</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">)</span>                            <span class="n">data</span><span class="p">:</span><span class="mi">219</span><span class="n">c1701289c17012f9c1701369c1701</span>
</pre></div>
</div>
<p>It may contain DMA Read Requests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TXqq</span>  <span class="mi">513859009</span>          <span class="mi">1</span> <span class="n">DmaRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__4DW</span>      <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span> <span class="n">address</span><span class="p">:</span> <span class="mf">000000039e8</span><span class="n">fc800</span> <span class="n">be</span><span class="p">(</span><span class="mi">1</span><span class="n">st</span><span class="p">:</span> <span class="n">f</span> <span class="n">last</span><span class="p">:</span><span class="n">f</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="n">reqid</span><span class="p">:</span><span class="mi">0300</span> <span class="n">length</span><span class="p">:</span><span class="mi">32</span>
<span class="n">TXqq</span>  <span class="mi">513859010</span>          <span class="mi">1</span> <span class="n">DmaRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__4DW</span>      <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span> <span class="n">address</span><span class="p">:</span> <span class="mf">000000039e8</span><span class="n">fc880</span> <span class="n">be</span><span class="p">(</span><span class="mi">1</span><span class="n">st</span><span class="p">:</span> <span class="n">f</span> <span class="n">last</span><span class="p">:</span><span class="n">f</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">01</span> <span class="n">reqid</span><span class="p">:</span><span class="mi">0300</span> <span class="n">length</span><span class="p">:</span><span class="mi">32</span>
</pre></div>
</div>
<p>The trace may contain interrupts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TXqq</span>  <span class="mi">513865009</span>         <span class="mi">12</span> <span class="n">Interru</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">fee00000</span>    <span class="mi">0</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0300</span>                    <span class="mi">1</span> <span class="mi">0000406</span><span class="n">e</span>
</pre></div>
</div>
<p>It will also contain reads and writes from the CPU to the FPGA:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RXqq</span>  <span class="mi">513874994</span>       <span class="mi">9985</span> <span class="n">CpuRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__3DW</span>      <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df400000</span>    <span class="mi">0</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span>                    <span class="mi">1</span>
<span class="n">TXpp</span>  <span class="mi">513875008</span>         <span class="mi">14</span> <span class="n">CpuRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span> <span class="mi">0300</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">004</span> <span class="mi">00</span>   <span class="mi">1</span> <span class="mi">00000001</span>
<span class="n">RXqq</span>  <span class="mi">513875159</span>        <span class="mi">151</span> <span class="n">CpuRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__3DW</span>      <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df402000</span>  <span class="mi">800</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span>                    <span class="mi">1</span>
<span class="n">TXpp</span>  <span class="mi">513875173</span>         <span class="mi">14</span> <span class="n">CpuRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span> <span class="mi">0300</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">004</span> <span class="mi">00</span>   <span class="mi">1</span> <span class="mi">00000000</span>
<span class="n">RXqq</span>  <span class="mi">513875323</span>        <span class="mi">150</span> <span class="n">CpuRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__3DW</span>      <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df401000</span>  <span class="mi">400</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span>                    <span class="mi">1</span>
<span class="n">TXpp</span>  <span class="mi">513875337</span>         <span class="mi">14</span> <span class="n">CpuRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span> <span class="mi">0300</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">004</span> <span class="mi">00</span>   <span class="mi">1</span> <span class="mi">00000000</span>
<span class="n">RXqq</span>  <span class="mi">513876236</span>        <span class="mi">899</span> <span class="n">CpuRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__3DW</span>      <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df40000c</span>    <span class="mi">3</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span>                    <span class="mi">1</span>
<span class="n">TXpp</span>  <span class="mi">513876250</span>         <span class="mi">14</span> <span class="n">CpuRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span> <span class="mi">0300</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">004</span> <span class="mi">0</span><span class="n">c</span>   <span class="mi">1</span> <span class="mi">00000001</span>
<span class="n">RXqq</span>  <span class="mi">513876449</span>        <span class="mi">199</span> <span class="n">CpuRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__3DW</span>      <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df400020</span>    <span class="mi">8</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span>                    <span class="mi">1</span>
<span class="n">TXpp</span>  <span class="mi">513876463</span>         <span class="mi">14</span> <span class="n">CpuRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span> <span class="mi">0300</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">004</span> <span class="mi">20</span>   <span class="mi">1</span> <span class="mi">00000000</span>
<span class="n">RXqq</span>  <span class="mi">513883818</span>       <span class="mi">7355</span> <span class="n">CpuRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__3DW</span>      <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df40000c</span>    <span class="mi">3</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span>                    <span class="mi">1</span>
<span class="n">TXpp</span>  <span class="mi">513883832</span>         <span class="mi">14</span> <span class="n">CpuRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span> <span class="mi">0300</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">004</span> <span class="mi">0</span><span class="n">c</span>   <span class="mi">1</span> <span class="mi">00000000</span>
<span class="n">RXqq</span>  <span class="mi">513883976</span>        <span class="mi">144</span> <span class="n">CpuWReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df400004</span>    <span class="mi">1</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">02</span> <span class="mi">0000</span>                    <span class="mi">1</span> <span class="mi">00000001</span>
<span class="n">RXqq</span>  <span class="mi">513884007</span>         <span class="mi">31</span> <span class="n">CpuRReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_READ__3DW</span>      <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df40200c</span>  <span class="mi">803</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span>                    <span class="mi">1</span>
<span class="n">TXpp</span>  <span class="mi">513884021</span>         <span class="mi">14</span> <span class="n">CpuRRsp</span><span class="p">:</span><span class="n">COMP</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">11</span> <span class="mh">0x8</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>                        <span class="n">tag</span><span class="p">:</span><span class="mi">00</span> <span class="mi">0038</span> <span class="mi">0300</span> <span class="mi">0</span> <span class="mi">00</span> <span class="mi">004</span> <span class="mi">0</span><span class="n">c</span>   <span class="mi">1</span> <span class="mi">00000000</span>
<span class="n">RXqq</span>  <span class="mi">513884165</span>        <span class="mi">144</span> <span class="n">CpuWReq</span><span class="p">:</span> <span class="n">MRW</span><span class="p">:</span><span class="n">MEM_WRITE_3DW_DATA</span> <span class="mi">09</span> <span class="mh">0x4</span> <span class="n">tlp</span><span class="p">(</span><span class="n">ffff</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>  <span class="n">df402004</span>  <span class="mi">801</span> <span class="n">be</span><span class="p">(</span><span class="n">f</span> <span class="mi">0</span><span class="p">)</span> <span class="n">tag</span><span class="p">:</span><span class="mi">03</span> <span class="mi">0000</span>                    <span class="mi">1</span> <span class="mi">00000001</span>
</pre></div>
</div>
<p>The trace will end with a summary of the kinds of PCIe transactions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;DmaWReq&#39;</span><span class="p">:</span> <span class="mi">115</span><span class="p">,</span> <span class="s1">&#39;CpuRReq&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span> <span class="s1">&#39;Interru&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;CpuRRsp&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span> <span class="s1">&#39;CpuRCon&#39;</span><span class="p">:</span> <span class="mi">922</span><span class="p">,</span> <span class="s1">&#39;CpuWReq&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;DmaRReq&#39;</span><span class="p">:</span> <span class="mi">112</span><span class="p">,</span> <span class="s1">&#39;DmaRRsp&#39;</span><span class="p">:</span> <span class="mi">141</span><span class="p">,</span> <span class="s1">&#39;DmaRCon&#39;</span><span class="p">:</span> <span class="mi">904</span><span class="p">}</span>
<span class="mi">2302</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. pcieflat</a><ul>
<li><a class="reference internal" href="#diagnosing-crashes">3.1. Diagnosing Crashes</a></li>
<li><a class="reference internal" href="#example-trace">3.2. Example Trace</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="generate-constraints.html"
                        title="previous chapter"><span class="section-number">2. </span>Invocation of generate-constraints.py</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="topgen.html"
                        title="next chapter"><span class="section-number">4. </span>Invocation of topgen.py</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tools/pcieflat.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../bsv-pkgindex.html" title="Bsv Package Index"
             >bsvpkgs</a> |</li>
        <li class="right" >
          <a href="topgen.html" title="4. Invocation of topgen.py"
             >next</a> |</li>
        <li class="right" >
          <a href="generate-constraints.html" title="2. Invocation of generate-constraints.py"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">connectal 20.05.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="tools.html" >Connectal Tools</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-2020, Jamey Hicks, Myron King, John Ankcorn.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>